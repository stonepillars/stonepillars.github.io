!function(h,m){h._animatePopup=new function(){function o(n){this.name="AnimatePopupException",this.message=n}function i(n,t){var o="";m.map(t,function(n,t){o+=";"+t+"="+n}),h.location="byond://win"+n+"?id="+p.interface+o}function n(t){e=m({boop:0}).animate({boop:1},{duration:p.duration,step:function(n){t(n)},complete:p.complete})}var e,s="",u=null,p={},a=!0,f=0,c=!1,l=null,d=function(n){if(c||n.length<1)return c&&0<n.length&&(l("jumping to end of sequence"),n[n.length-1](1)),p.complete();a&&(f=p.duration/n.length,a=!1);var t=n[0];e=m({boop:0}).animate({boop:1},{duration:f,step:function(n){t(n)},complete:function(){n.shift(),d(n)}})},r={bounce:function(){var t=p.amount||30;d([function(n){i("set",{pos:u.pos.x+","+(u.pos.y-t*n)})},function(n){i("set",{pos:u.pos.x+","+(u.pos.y-t+t*n)})},function(n){i("set",{pos:u.pos.x+","+(u.pos.y-t/2*n)})},function(n){i("set",{pos:u.pos.x+","+(u.pos.y-t/2+t/2*n)})}])},shake:function(){var t=p.amount||11;d([function(n){i("set",{pos:u.pos.x-t*n+","+u.pos.y})},function(n){i("set",{pos:u.pos.x-t+2*t*n+","+u.pos.y})},function(n){i("set",{pos:u.pos.x+t-2*t*n+","+u.pos.y})},function(n){i("set",{pos:u.pos.x-t+2*t*n+","+u.pos.y})},function(n){i("set",{pos:u.pos.x+t-2*t*n+","+u.pos.y})},function(n){i("set",{pos:u.pos.x-t+t*n+","+u.pos.y})}])},flash:function(){d([function(n){i("set",{alpha:255*(1-n)})},function(n){i("set",{alpha:255*n})},function(n){i("set",{alpha:255*(1-n)})},function(n){i("set",{alpha:255*n})}])},fadeIn:function(){n(function(n){i("set",{alpha:255*n})})},fadeOut:function(){n(function(n){i("set",{alpha:255*(1-n)})})},_slideHandler:function(o,e){n(function(n){var t=1-n;i("set",{alpha:255*(e?n:t),pos:u.pos.x+("left"===o||"right"===o?u.size.x*("left"===o?-1:1)*(e?t:n):0)+","+(u.pos.y+("up"===o||"down"===o?u.size.y*("down"===o?-1:1)*(e?t:-1*n):0))})})},slideUpIn:function(){r._slideHandler("up",!0)},slideDownIn:function(){r._slideHandler("down",!0)},slideLeftIn:function(){r._slideHandler("left",!0)},slideRightIn:function(){r._slideHandler("right",!0)},slideUpOut:function(){r._slideHandler("up",!1)},slideDownOut:function(){r._slideHandler("down",!1)},slideLeftOut:function(){r._slideHandler("left",!1)},slideRightOut:function(){r._slideHandler("right",!1)}};this.isValidAnimation=function(n){return"function"==typeof r[n]},this.run=function(n,t){t=m.extend({interface:!1,duration:500,complete:function(){}},t);if(c=!(a=!(f=0)),l=t.logger,"boolean"==typeof t.interface)throw new o("You must pass an interface name");if(void 0===r[n])throw new o('Animation "'+n+'" does not exist');return s=n,i("get",{callback:(p=t).interface+":_animatePopup.updateCallback",property:"size,pos"}),this},this.updateCallback=function(n){u=n,r[s](p)},this.stop=function(n,t){e&&(c=!0,e.stop(n,t))}}}(window,jQuery);