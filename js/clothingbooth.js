var currentrender,categories=json;function byond(){url="?src="+srcRef,currentIsKey=!0;for(var e=0;e<arguments.length;e++)currentIsKey?url+=";":url+="=",url+=arguments[e],currentIsKey=!currentIsKey;console.log(url);const t=new XMLHttpRequest;t.open("GET",url),t.send()}var boop=function(e){if(console.log(currentrender),e.preventDefault(),"yeet"==e.srcElement.dataset.path){for(var t=document.getElementsByClassName("items")[0],n=1,o=0;o<categories.length;o++)if(e.srcElement.textContent==categories[o].name){if(0!=t.childElementCount)for(;t.firstChild;)t.removeChild(t.firstChild);for(var a=0;a<categories[o].items.length;a++){var r=document.createElement("div"),s=document.createElement("a"),c=document.createElement("p"),n=1==n?(r.className="link itemcolor1",c.className="creditcolor1",2):(r.className="link itemcolor2",c.className="creditcolor2",1);s.textContent=categories[o].items[a].name,s.dataset.path=categories[o].items[a].path,s.dataset.cost=categories[o].items[a].cost,s.onclick=boop,r.appendChild(s),c.textContent=s.dataset.cost+"c",c.dataset.path=categories[o].items[a].path,c.dataset.cost=categories[o].items[a].cost,c.onclick=boop,r.appendChild(c),t.appendChild(r)}n=1}}else{var l=e.srcElement.dataset.path;currentrender==l?byond("command","spawn","path",l,"cost",e.srcElement.dataset.cost):byond("command","render","path",currentrender=l,"cost",e.srcElement.dataset.cost)}};window.onload=function(e){for(var t=document.getElementsByClassName("categories")[0],n=1,o=0;o<categories.length;o++){var a=document.createElement("div"),r=document.createElement("a"),n=1==n?(a.className="link catcolor1",2):(a.className="link catcolor2",1);r.textContent=categories[o].name,r.dataset.path="yeet",r.onclick=boop,a.appendChild(r),t.appendChild(a)}function s(){var e=document.getElementById("preview").getBoundingClientRect();window.location="byond://winset?id="+previewID+"&type=map&parent=ClothingBooth&pos="+Math.floor(e.left)+","+Math.floor(e.top)+"&size="+Math.floor(e.width)+"x"+Math.floor(e.height)}addEventListener("unload",function(){var e=new XMLHttpRequest;e.open("GET","winset?id=ClothingBooth."+previewID+";parent="),e.send()}),addEventListener("resize",s),addEventListener("scroll",s),s()};